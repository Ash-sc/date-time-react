{"version":3,"sources":["../../src/js/timeSelect.jsx"],"names":["TimeSelect","props","state","date","nextProps","setState","type","value","val","parseInt","format","set","selectTime","lang","onOk","changeTime","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;IAEqBA,U;;;AACnB,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,wHACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,YAAMF,MAAME;AADD,KAAb;AAFiB;AAKlB;;;;8CAEyBC,S,EAAW;AACnC,WAAKC,QAAL,CAAc;AACZF,cAAMC,UAAUD;AADJ,OAAd;AAGD;;;+BAEUG,I,EAAMC,K,EAAO;AAAA;;AAAA,UACdJ,IADc,GACL,KAAKD,KADA,CACdC,IADc;;AAEtB,UAAIK,MAAMC,SAASN,KAAKO,MAAL,CAAYJ,SAAS,MAAT,GAAkB,IAAlB,GAAyB,IAArC,CAAT,EAAqD,EAArD,IAA2DC,KAArE;AACA,UAAKC,QAAQ,EAAR,IAAcF,SAAS,QAAxB,IAAsCE,QAAQ,EAAR,IAAcF,SAAS,MAAjE,EAA0E;AACxEE,cAAM,IAAN;AACD,OAFD,MAEO,IAAIA,QAAQ,CAAC,CAAb,EAAgB;AACrBA,cAAMF,SAAS,MAAT,GAAkB,IAAlB,GAAyB,IAA/B;AACD;AACD,WAAKD,QAAL,CAAc;AACZF,cAAM,sBAAOA,IAAP,EAAaQ,GAAb,CAAiBL,IAAjB,EAAuBE,GAAvB;AADM,OAAd,EAEE;AAAA,eAAM,OAAKP,KAAL,CAAWW,UAAX,CAAsB,OAAKV,KAAL,CAAWC,IAAjC,CAAN;AAAA,OAFF;AAGD;;;6BAEQ;AAAA;;AAAA,UAELA,IAFK,GAGH,KAAKD,KAHF,CAELC,IAFK;AAAA,mBAOH,KAAKF,KAPF;AAAA,UAKLY,IALK,UAKLA,IALK;AAAA,UAMLC,IANK,UAMLA,IANK;;AAQP,aACE;AAAA;AAAA,UAAK,WAAU,iBAAf;AACE;AAAA;AAAA,YAAK,WAAU,cAAf;AACE,kDAAM,WAAU,2BAAhB,EAA4C,SAAS;AAAA,qBAAM,OAAKC,UAAL,CAAgB,MAAhB,EAAwB,CAAxB,CAAN;AAAA,aAArD,GADF;AAEGZ,eAAKO,MAAL,CAAY,IAAZ,CAFH;AAGE,kDAAM,WAAU,gCAAhB,EAAiD,SAAS;AAAA,qBAAM,OAAKK,UAAL,CAAgB,MAAhB,EAAwB,CAAC,CAAzB,CAAN;AAAA,aAA1D;AAHF,SADF;AAME;AAAA;AAAA,YAAK,WAAU,gBAAf;AAAA;AAAA,SANF;AAOE;AAAA;AAAA,YAAK,WAAU,gBAAf;AACE,kDAAM,WAAU,0BAAhB,EAA2C,SAAS;AAAA,qBAAM,OAAKA,UAAL,CAAgB,QAAhB,EAA0B,CAA1B,CAAN;AAAA,aAApD,GADF;AAEGZ,eAAKO,MAAL,CAAY,IAAZ,CAFH;AAGE,kDAAM,WAAU,+BAAhB,EAAgD,SAAS;AAAA,qBAAM,OAAKK,UAAL,CAAgB,QAAhB,EAA0B,CAAC,CAA3B,CAAN;AAAA,aAAzD;AAHF,SAPF;AAYE;AAAA;AAAA,YAAQ,SAASD,IAAjB,EAAuB,WAAU,aAAjC;AAAgDD,mBAAS,OAAT,GAAmB,KAAnB,GAA2B;AAA3E;AAZF,OADF;AAgBD;;;;EAnDqC,gBAAMG,S;;kBAAzBhB,U","file":"timeSelect.js","sourcesContent":["import React from 'react';\nimport moment from 'moment';\n\nexport default class TimeSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: props.date,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({\n      date: nextProps.date,\n    });\n  }\n\n  changeTime(type, value) {\n    const { date } = this.state;\n    let val = parseInt(date.format(type === 'hour' ? 'HH' : 'mm'), 10) + value;\n    if ((val === 60 && type === 'minute') || (val === 24 && type === 'hour')) {\n      val = '00';\n    } else if (val === -1) {\n      val = type === 'hour' ? '23' : '59';\n    }\n    this.setState({\n      date: moment(date).set(type, val),\n    },() => this.props.selectTime(this.state.date));\n  }\n\n  render() {\n    const {\n      date,\n    } = this.state;\n    const {\n      lang,\n      onOk,\n    } = this.props;\n    return (\n      <div className=\"time-section-bg\">\n        <div className=\"hour-section\">\n          <span className=\"add-hour fa fa-chevron-up\" onClick={() => this.changeTime('hour', 1)} />\n          {date.format('HH')}\n          <span className=\"reduce-hour fa fa-chevron-down\" onClick={() => this.changeTime('hour', -1)} />\n        </div>\n        <div className=\"column-section\">:</div>\n        <div className=\"minute-section\">\n          <span className=\"add-min fa fa-chevron-up\" onClick={() => this.changeTime('minute', 1)} />\n          {date.format('mm')}\n          <span className=\"reduce-min fa fa-chevron-down\" onClick={() => this.changeTime('minute', -1)} />\n        </div>\n        <button onClick={onOk} className=\"confirm-btn\">{lang === 'zh-cn' ? '确 定' : 'OK'}</button>\n      </div>\n    );\n  }\n}\n"]}